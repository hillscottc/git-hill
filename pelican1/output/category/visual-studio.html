<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>pel1 - Visual Studio</title>
        <link rel="stylesheet" href="/theme/css/main.css">
                
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">pel1 </a></h1>
                <nav><ul>
                                                                                    <li ><a href="/category/keyboard.html">Keyboard</a></li>
                                    <li class="active"><a href="/category/visual-studio.html">Visual Studio</a></li>
                                                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/log4net.html">log4net</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2013-05-29T00:00:00">
                Wed 29 May 2013
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="/author/scott-hill.html">Scott Hill</a>
        </address>
        <p>In <a href="/category/visual-studio.html">Visual Studio</a>. </p>
<p>tags: <a href="/tag/log4net.html">log4net</a></p>Translations: 
            <a href="/log4net.html">en</a>
    
</footer><!-- /.post-info --><h2>Field Formatting</h2>
<p>Format modifier   lft-just  min    max   comment             <br />
%20logger         false     20     none  Left pad with spaces if less than 20 characters long.                         <br />
%-20logger        true      20     none  Right pad with spaces if less than 20 characters long.                        <br />
%.30logger        NA        none   30    Truncate if longer than 30 characters.                         <br />
%20.30logger      false     20     30    Left pad if less than 20. If longer than 30, trunc.                           <br />
%-20.30logger     true      20     30    Right pad if shorter than 20 chars. If longer than 30, trunc.    </p>
<p>The sequence that represents a CR LF is &#13; &#10;. The following example adds a header and footer to the output each followed by a newline.</p>
<div class="highlight"><pre><span class="o">&lt;</span><span class="n">layout</span> <span class="n">type</span><span class="o">=</span><span class="s">&quot;log4net.Layout.PatternLayout&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">header</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;[Header]&amp;#13;&amp;#10;&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">footer</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;[Footer]&amp;#13;&amp;#10;&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">conversionPattern</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;%date [%thread] %-5level %logger - %message%newline&quot;</span> <span class="o">/&gt;</span>
</pre></div>


<p>Other format expressions:
expression  value
%appdomain  the friendly name of the appdomain from which the log entry was made
%date   the local datetime when the log entry was made
%exception  a formatted form of the exception object in the log entry, if the entry contains an exception; otherwise, this format expression adds nothing to the log entry
%file   the file name from which the log entry was made; note that using %file has a significant performance impact and I don't recommend using it
%identity   the user name of the active user logging the entry; this one is less reliable than %username; note that using %identity has a significant performance impact and I don't recommend using it
%level  the severity level of the log entry (DEBUG,INFO, etc)
%line   the source code line number from which the log entry was made; slow
%location   some rudimentary call stack information, including file name and line number at which the log entry was made; using
%logger     the name of the logger making the entry; more on this in a bit
%method     the name of the method in which the log entry was made; also slow
%message    the log message itself (don't forget this part!)
%newline    the value of Environment.NewLine
%timestamp  the milliseconds between the start of the application and the time the log entry was made
%type   the full typename of the object from which the log entry was made
%username   the Windows identity of user making the log entry; slow
%utcdate    the UTC datetime when the log entry was made
%%  a percent sign (%)</p>
<h2>Declare in class</h2>
<div class="highlight"><pre><span class="n">private</span> <span class="k">static</span> <span class="n">readonly</span> <span class="n">log4net</span><span class="p">.</span><span class="n">ILog</span> <span class="n">log</span> <span class="o">=</span>  
    <span class="n">log4net</span><span class="p">.</span><span class="n">LogManager</span><span class="p">.</span><span class="n">GetLogger</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">MethodBase</span><span class="p">.</span><span class="n">GetCurrentMethod</span><span class="p">().</span><span class="n">DeclaringType</span><span class="p">);</span>
</pre></div>


<h2>How do I configure log4net so that log.IsDebugEnabled is true?</h2>
<p>for ASP project..in global.asax, use:</p>
<div class="highlight"><pre><span class="cp">&lt;%</span><span class="err">@</span> <span class="no">Import</span> <span class="no">Namespace</span><span class="o">=</span><span class="s2">&quot;log4net&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;script runat=&quot;server&quot;&gt;</span>
<span class="x">    void Application_Start(object sender, EventArgs e) </span>
<span class="x">    {</span>
<span class="x">        Bootstrapper.Configure();</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>


<h2>If you are calling Configure in a class library, adding an attribute to your class's Assembly:</h2>
<div class="highlight"><pre><span class="n">using</span> <span class="n">log4net</span><span class="p">.</span><span class="n">Config</span><span class="p">;</span>
<span class="p">[</span><span class="n">assembly</span><span class="o">:</span> <span class="n">XmlConfigurator</span><span class="p">(</span><span class="n">Watch</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)]</span>
</pre></div>


<h2>If you are using a separate configuration file for log4net</h2>
<p>After following all the other setup instructions, make sure that u right click on the file in the visual studio solution explorer, select properties, expand the "Advanced" option group, set "Copy To Output Directory" value to "Copy always".</p>
<h2>How to remove warning: The ‘log4net’ element is not declared</h2>
<ul>
<li>Download the log4net XML Schema Definition (XSD) from http://csharptest.net/downloads/schema/log4net.xsd</li>
<li>Put the XSD to your project somewhere.</li>
<li>With the XML file open, in the top menu Select XML -&gt; Schemas</li>
<li>Locate your log4net.xsd, select 'Use this schema'</li>
</ul>
<h2>What is the fastest way of (not) logging?</h2>
<p>For some logger log, writing:</p>
<div class="highlight"><pre><span class="n">log</span><span class="p">.</span><span class="n">Debug</span><span class="p">(</span><span class="s">&quot;Entry number: &quot;</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">&quot; is &quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</pre></div>


<p>...incurs the cost of constructing the message parameter, that is converting both integer i and entry[i] to a string, and concatenating intermediate strings, <em>regardless</em> of whether the message will be logged or not. If you are worried about speed, then write:  </p>
<div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="n">IsDebugEnabled</span><span class="p">)</span> 
<span class="p">{</span>
    <span class="n">log</span><span class="p">.</span><span class="n">Debug</span><span class="p">(</span><span class="s">&quot;Entry number: &quot;</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">&quot; is &quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>                </article>
                            </aside><!-- /#featured -->
                            <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
                                                

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="/log4net.html" rel="bookmark"
                           title="Permalink to Using log4net AdoNetAppender">Using log4net AdoNetAppender</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2013-05-29T00:00:00">
                Wed 29 May 2013
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="/author/scott-hill.html">Scott Hill</a>
        </address>
        <p>In <a href="/category/visual-studio.html">Visual Studio</a>. </p>
<p>tags: <a href="/tag/log4net.html">log4net</a><a href="/tag/sqlserver.html">sqlserver</a></p>Translations: 
            <a href="/log4net.html">en</a>
    
</footer><!-- /.post-info -->                <p>Using log4net AdoNetAppender to write log to SqlServer database table.</p>
                <a class="readmore" href="/log4net.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            </ol><!-- /#posts-list -->
                                                    </section><!-- /#content -->
                    <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="http://getpelican.com/">Pelican</a></li>
                                                    <li><a href="http://python.org/">Python.org</a></li>
                                                    <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                                                    <li><a href="#">You can modify those links in your config file</a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/None" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="#">You can add links in your config file</a></li>
                                                    <li><a href="#">Another social link</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>